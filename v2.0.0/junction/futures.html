
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>junction.futures – Representations of In-Progress Actions &mdash; junction 2.0.0 documentation</title>
    
    <link rel="stylesheet" href="../static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="junction 2.0.0 documentation" href="../index.html" />
    <link rel="next" title="junction.errors – Standard Error classes" href="errors.html" />
    <link rel="prev" title="junction.client – A Sender-Only Client Object" href="client.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="errors.html" title="junction.errors – Standard Error classes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="client.html" title="junction.client – A Sender-Only Client Object"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">junction 2.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-junction.futures">
<span id="junction-futures-representations-of-in-progress-actions"></span><h1><a class="reference internal" href="#module-junction.futures" title="junction.futures"><tt class="xref py py-mod docutils literal"><span class="pre">junction.futures</span></tt></a> &#8211; Representations of In-Progress Actions<a class="headerlink" href="#module-junction.futures" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="junction.futures.Future">
<em class="property">class </em><tt class="descclassname">junction.futures.</tt><tt class="descname">Future</tt><a class="headerlink" href="#junction.futures.Future" title="Permalink to this definition">¶</a></dt>
<dd><p>A stand-in object for some value that may not have yet arrived</p>
<dl class="method">
<dt id="junction.futures.Future.abort">
<tt class="descname">abort</tt><big>(</big><em>klass</em>, <em>exc</em>, <em>tb=None</em><big>)</big><a class="headerlink" href="#junction.futures.Future.abort" title="Permalink to this definition">¶</a></dt>
<dd><p>Finish this future (maybe early) in an error state</p>
<p>Takes a standard exception triple as arguments (like returned by
<tt class="docutils literal"><span class="pre">sys.exc_info</span></tt>) and will re-raise them as the value.</p>
<p>Any <tt class="xref py py-class docutils literal"><span class="pre">Dependents</span></tt> that are children of this one will also be
aborted.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>klass</strong> (<em>class</em>) &#8211; the class of the exception</li>
<li><strong>exc</strong> (<em>Exception</em>) &#8211; the exception instance itself</li>
<li><strong>tb</strong> (<em>traceback</em>) &#8211; the traceback associated with the exception</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><p class="first last"><a class="reference internal" href="errors.html#junction.errors.AlreadyComplete" title="junction.errors.AlreadyComplete"><tt class="xref py py-class docutils literal"><span class="pre">AlreadyComplete</span></tt></a> if
already complete</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="junction.futures.Future.after">
<tt class="descname">after</tt><big>(</big><em>func=None</em>, <em>other_parents=None</em><big>)</big><a class="headerlink" href="#junction.futures.Future.after" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new Future whose completion depends on this one</p>
<p>The new future will have a function that it calls once all its parents
have completed, the return value of which will be its final value.
There is a special case, however, in which the dependent future&#8217;s
callback returns a future or list of futures. In those cases, waiting
on the dependent will also wait for all those futures, and the result
(or list of results) of those future(s) will then be the final value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>func</strong> (<em>function</em>) &#8211; The function to determine the value of the dependent future. It
will take as many arguments as it has parents, and they will be the
results of those futures.</li>
<li><strong>other_parents</strong> (<em>list or None</em>) &#8211; A list of futures, all of which (along with this one) must be
complete before the dependent&#8217;s function runs.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a <tt class="xref py py-class docutils literal"><span class="pre">Dependent</span></tt>, which is a subclass of <a class="reference internal" href="#junction.futures.Future" title="junction.futures.Future"><tt class="xref py py-class docutils literal"><span class="pre">Future</span></tt></a> and
has all its capabilities.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="junction.futures.Future.complete">
<tt class="descname">complete</tt><a class="headerlink" href="#junction.futures.Future.complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not this has completed</p>
</dd></dl>

<dl class="method">
<dt id="junction.futures.Future.finish">
<tt class="descname">finish</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#junction.futures.Future.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Give the future it&#8217;s value and trigger any associated callbacks</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> &#8211; the new value for the future</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><a class="reference internal" href="errors.html#junction.errors.AlreadyComplete" title="junction.errors.AlreadyComplete"><tt class="xref py py-class docutils literal"><span class="pre">AlreadyComplete</span></tt></a> if
already complete</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="junction.futures.Future.on_abort">
<tt class="descname">on_abort</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#junction.futures.Future.on_abort" title="Permalink to this definition">¶</a></dt>
<dd><p>Assigna a callback function to be run when <a class="reference internal" href="#junction.futures.Future.abort" title="junction.futures.Future.abort"><tt class="xref py py-meth docutils literal"><span class="pre">abort()</span></tt></a>ed</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) &#8211; <p>A callback to run when aborted. It will be given three arguments:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">klass</span></tt>: the exception class</li>
<li><tt class="docutils literal"><span class="pre">exc</span></tt>: the exception instance</li>
<li><tt class="docutils literal"><span class="pre">tb</span></tt>: the traceback object associated with the exception</li>
</ul>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="junction.futures.Future.on_finish">
<tt class="descname">on_finish</tt><big>(</big><em>func</em><big>)</big><a class="headerlink" href="#junction.futures.Future.on_finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Assign a callback function to be run when successfully complete</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>func</strong> (<em>function</em>) &#8211; A callback to run when complete. It will be given one argument (the
value that has arrived), and it&#8217;s return value is ignored.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="junction.futures.Future.value">
<tt class="descname">value</tt><a class="headerlink" href="#junction.futures.Future.value" title="Permalink to this definition">¶</a></dt>
<dd><p>The final value, if it has arrived</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises :</th><td class="field-body">AttributeError, if not yet complete</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body">an exception if the Future was <a class="reference internal" href="#junction.futures.Future.abort" title="junction.futures.Future.abort"><tt class="xref py py-meth docutils literal"><span class="pre">abort()</span></tt></a>ed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="junction.futures.Future.wait">
<tt class="descname">wait</tt><big>(</big><em>timeout=None</em><big>)</big><a class="headerlink" href="#junction.futures.Future.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Block the current coroutine until complete</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>timeout</strong> (<em>int, float or None</em>) &#8211; maximum time to block in seconds</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises :</th><td class="field-body"><a class="reference internal" href="errors.html#junction.errors.WaitTimeout" title="junction.errors.WaitTimeout"><tt class="xref py py-class docutils literal"><span class="pre">WaitTimeout</span></tt></a> if <tt class="docutils literal"><span class="pre">timeout</span></tt>
expires before completion</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="junction.futures.after">
<tt class="descclassname">junction.futures.</tt><tt class="descname">after</tt><big>(</big><em>parents</em>, <em>func=None</em><big>)</big><a class="headerlink" href="#junction.futures.after" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new Future whose completion depends on parent futures</p>
<p>The new future will have a function that it calls once all its parents
have completed, the return value of which will be its final value.
There is a special case, however, in which the dependent future&#8217;s
callback returns a future or list of futures. In those cases, waiting
on the dependent will also wait for all those futures, and the result
(or list of results) of those future(s) will then be the final value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parents</strong> (<em>list</em>) &#8211; A list of futures, all of which must be complete before the
dependent&#8217;s function runs.</li>
<li><strong>func</strong> (<em>function</em>) &#8211; The function to determine the value of the dependent future. It
will take as many arguments as it has parents, and they will be the
results of those futures.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a <tt class="xref py py-class docutils literal"><span class="pre">Dependent</span></tt>, which is a subclass of <a class="reference internal" href="#junction.futures.Future" title="junction.futures.Future"><tt class="xref py py-class docutils literal"><span class="pre">Future</span></tt></a> and
has all its capabilities.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="junction.futures.wait_any">
<tt class="descclassname">junction.futures.</tt><tt class="descname">wait_any</tt><big>(</big><em>futures</em>, <em>timeout=None</em><big>)</big><a class="headerlink" href="#junction.futures.wait_any" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the completion of any (the first) one of multiple futures</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>futures</strong> (<em>list</em>) &#8211; A list of <a class="reference internal" href="#junction.futures.Future" title="junction.futures.Future"><tt class="xref py py-class docutils literal"><span class="pre">Future</span></tt></a>s</li>
<li><strong>timeout</strong> (<em>float or None</em>) &#8211; The maximum time to wait. With <tt class="docutils literal"><span class="pre">None</span></tt>, will block indefinitely.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">One of the futures from the provided list &#8211; the first one to become
complete (or any of the ones that were already complete).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="client.html"
                        title="previous chapter"><tt class="docutils literal docutils literal"><span class="pre">junction.client</span></tt> &#8211; A Sender-Only Client Object</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="errors.html"
                        title="next chapter"><tt class="docutils literal docutils literal"><span class="pre">junction.errors</span></tt> &#8211; Standard Error classes</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/junction/futures.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="errors.html" title="junction.errors – Standard Error classes"
             >next</a> |</li>
        <li class="right" >
          <a href="client.html" title="junction.client – A Sender-Only Client Object"
             >previous</a> |</li>
        <li><a href="../index.html">junction 2.0.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Travis J Parker.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>